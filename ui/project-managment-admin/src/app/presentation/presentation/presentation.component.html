<div class="wrapper">
  <div class="sidebar" data-color="blue">
    <app-sidebar></app-sidebar>
  </div>
  <div class="main-panel">
    <app-navbar></app-navbar>
    <div class="panel-header panel-header-sm">
    </div>
    <div class="main-content">
      <div class="row">
        <div class="col-md-12">
          <div>

            <div class="container">

              

              <div class="flex-item">

                <div class='form-container'>

                  <h4 align="center">Evaluation forms</h4>
                  <hr>

                  <mat-card class="tr-card">


                    <div>
                      <app-view-form-list (shareForm)="shareForm($event)">

                      </app-view-form-list>
                    </div>


                  </mat-card>


                </div>


              </div>

              <div class="flex-item">


                <div class='form-container'>

                  <h4 align="center">Control presentation</h4>
                  <hr>
                  <mat-card class="tr-card">
                    <mat-card-title>
                      Presentation control
                    </mat-card-title>

                    <mat-card-content>

                      <div style="height: 50px; width: 80%;margin-top: 20px;margin-left: 80px">

                        <app-loading-anim-color *ngIf="presentationState == 0">

                        </app-loading-anim-color>

                        <mat-progress-bar mode="query" color="primary" *ngIf="presentationState==1"></mat-progress-bar>

                      </div>

                      <div style="height: 60px; width: 80%;margin-top: 20px;margin-left: 80px">

                        Time<p class="clock"> {{timeMin}}:{{timeSec}}</p>

                      </div>

                      <div style="height: 60px; width: 80%;margin-top: 20px;margin-left: 80px">

                        <p class="clock"> No: {{selectedGroup}}</p>

                      </div>


                      <mat-expansion-panel (opened)="panelStateOpen()" (closed)="panelStateClose()"
                                           class="mat-elevation-z0">
                        <mat-expansion-panel-header>

                          <mat-panel-title>
                            <p style="color: #007fff; font-size: x-large">{{stateTitle}}</p>
                          </mat-panel-title>
                          <mat-panel-description *ngIf="!panelState">
                            Click to expand details
                          </mat-panel-description>

                        </mat-expansion-panel-header>

                        <p *ngIf="presentationState!=2 && presentationState!=3">Started {{time}} ago</p>


                        <mat-form-field>
                          <mat-select placeholder="Select Group" #matSelect [(value)]="selectedGroup"
                                      (selectionChange)="selectionChange($event)" [disabled]="disabledGroupSelect">
                            <mat-option *ngFor="let i of groupList" [value]="i">
                              {{"group "+i}}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>

                        <button mat-icon-button class="play-button" (click)="startPresentation()"
                                matTooltip="Start presentation"
                                [disabled]="disabledStartButton">
                          <mat-icon aria-label="Start icon" style=" font-size: 50px">play_arrow</mat-icon>
                        </button>

                        <p style="color: #007fff;display: inline; margin-left: 30px">Start</p>

                        <button mat-icon-button class="play-button" (click)="pausePresentation()"
                                matTooltip="Pause presentation"
                                [disabled]="disabledPauseButton">
                          <mat-icon aria-label="Start icon" style=" font-size: 50px">pause_circle_filled</mat-icon>
                        </button>

                        <p style="color: #007fff;display: inline; margin-left: 30px">Pause</p>

                        <button mat-icon-button class="play-button" (click)="cancelPresentation()"
                                matTooltip="Stop presentation"
                                [disabled]="disabledCancelButton">
                          <mat-icon aria-label="Stop icon" style=" font-size: 50px">stop</mat-icon>
                        </button>

                        <p style="color: #007fff;display: inline; margin-left: 30px">Stop</p>

                        <div style="margin-top: 10px">

                          <h5>Submission status on current group</h5>
                          <hr>

                          <mat-list>
                            <mat-list-item *ngFor="let e of submittedEvals"><span matLine>{{e.displayName}}</span>
                              <span matLine>{{e.email}}</span>
                            </mat-list-item>
                          </mat-list>


                        </div>


                      </mat-expansion-panel>

                    </mat-card-content>

                  </mat-card>
                </div>
              </div>


            </div>


          </div>
        </div>
      </div>
    </div>

    <button mat-fab class="fab" (click)="createForm()" matTooltip="Create new form">
      <mat-icon>add</mat-icon>
    </button>


    <app-footer></app-footer>
  </div>
</div>

